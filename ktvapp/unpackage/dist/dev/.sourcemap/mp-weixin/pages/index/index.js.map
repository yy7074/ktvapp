{"version":3,"file":"index.js","sources":["pages/index/index.vue","pages/index/index.vue?type=page"],"sourcesContent":["<template>\r\n\t<view class=\"container\">\r\n\t\t<!-- 状态栏占位 -->\r\n\t\t<view class=\"status-bar\" :style=\"{height: statusBarHeight + 'px'}\"></view>\r\n\t\t\r\n\t\t<!-- 头部用户信息 -->\r\n\t\t<view class=\"header\">\r\n\t\t\t<view class=\"user-info\">\r\n\t\t\t\t<image src=\"/static/yue.jpg\" class=\"avatar\" mode=\"aspectFill\"></image>\r\n\t\t\t\t<view class=\"user-details\">\r\n\t\t\t\t\t<text class=\"username\">{{ userInfo.nickname || '柠檬水橘子' }}</text>\r\n\t\t\t\t\t<view class=\"vip-info\">\r\n\t\t\t\t\t\t<image src=\"/static/矩形@1x.png\" class=\"vip-icon\" mode=\"aspectFit\"></image>\r\n\t\t\t\t\t\t<text class=\"vip-text\">KTV会员</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<button class=\"upgrade-btn\" @click=\"upgradeVip\">订阅会员</button>\r\n\t\t</view>\r\n\t\t\r\n\t\t<!-- 包厢卡片标题 -->\r\n\t\t<view class=\"section-title\">\r\n\t\t\t<text class=\"title-text\">包厢卡</text>\r\n\t\t</view>\r\n\t\t\r\n\t\t<!-- KTV列表 -->\r\n\t\t<view class=\"ktv-list\" v-if=\"ktvList.length > 0\">\r\n\t\t\t<view \r\n\t\t\t\tclass=\"ktv-item\" \r\n\t\t\t\tv-for=\"(item, index) in ktvList\" \r\n\t\t\t\t:key=\"index\"\r\n\t\t\t\t@click=\"bookKtv(item)\"\r\n\t\t\t>\r\n\t\t\t\t<view class=\"ktv-card\">\r\n\t\t\t\t\t\t\t\t\t<view class=\"ktv-tag\">\r\n\t\t\t\t\t<image src=\"/static/yue.jpg\" class=\"tag-bg\" mode=\"aspectFit\"></image>\r\n\t\t\t\t\t<text class=\"tag-text\">约</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"ktv-info\">\r\n\t\t\t\t\t\t<text class=\"ktv-name\">{{ item.name }}</text>\r\n\t\t\t\t\t\t<view class=\"ktv-details\">\r\n\t\t\t\t\t\t\t<text class=\"ktv-distance\" v-if=\"item.distance\">{{ item.distance }}</text>\r\n\t\t\t\t\t\t\t<text class=\"ktv-rating\" v-if=\"item.rating\">★{{ item.rating }}</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<text class=\"ktv-address\" v-if=\"item.address\">{{ item.address }}</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<button class=\"book-btn\" @click.stop=\"bookKtv(item)\">预约</button>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t\r\n\t\t<!-- 空状态 -->\r\n\t\t<view class=\"empty-state\" v-else>\r\n\t\t\t<image src=\"/static/yue.jpg\" class=\"empty-icon\" mode=\"aspectFit\"></image>\r\n\t\t\t<text class=\"empty-text\">空空如也</text>\r\n\t\t</view>\r\n\t\t\r\n\t\t<!-- 搜索按钮 -->\r\n\t\t<view class=\"search-btn\" @click=\"searchKtv\">\r\n\t\t\t<text class=\"search-text\">搜索附近的商K</text>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tstatusBarHeight: 0,\r\n\t\t\tuserInfo: {},\r\n\t\t\tktvList: [],\r\n\t\t\tuserLocation: null, // 用户位置信息\r\n\t\t\tlocationPermissionGranted: false // 定位权限状态\r\n\t\t}\r\n\t},\r\n\tonLoad() {\r\n\t\t// 获取状态栏高度\r\n\t\ttry {\r\n\t\t\t// 优先使用新的API\r\n\t\t\tif (uni.getWindowInfo) {\r\n\t\t\t\tconst windowInfo = uni.getWindowInfo();\r\n\t\t\t\tthis.statusBarHeight = windowInfo.statusBarHeight;\r\n\t\t\t} else {\r\n\t\t\t\t// 兼容旧版本\r\n\t\t\t\tconst systemInfo = uni.getSystemInfoSync();\r\n\t\t\t\tthis.statusBarHeight = systemInfo.statusBarHeight;\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t\tconsole.log('获取系统信息失败，使用默认值');\r\n\t\t\tthis.statusBarHeight = 44; // 默认状态栏高度\r\n\t\t}\r\n\t\t\r\n\t\t// 检查登录状态\r\n\t\tthis.checkLogin();\r\n\t\t\r\n\t\t// 获取用户位置（成功后会自动获取KTV列表）\r\n\t\tthis.getUserLocation();\r\n\t},\r\n\tonShow() {\r\n\t\t// 每次显示页面时刷新用户信息\r\n\t\tthis.getUserInfo();\r\n\t},\r\n\tmethods: {\r\n\t\tcheckLogin() {\r\n\t\t\tconst userInfo = uni.getStorageSync('userInfo');\r\n\t\t\tif (!userInfo) {\r\n\t\t\t\tuni.redirectTo({\r\n\t\t\t\t\turl: '/pages/login/login'\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tthis.userInfo = userInfo;\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\tgetUserInfo() {\r\n\t\t\tconst userInfo = uni.getStorageSync('userInfo');\r\n\t\t\tif (userInfo) {\r\n\t\t\t\tthis.userInfo = userInfo;\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\t// 获取用户位置\r\n\t\tasync getUserLocation() {\r\n\t\t\ttry {\r\n\t\t\t\tconsole.log('开始获取用户位置...');\r\n\t\t\t\t\r\n\t\t\t\t// 显示定位提示\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: '正在定位...',\r\n\t\t\t\t\ticon: 'loading',\r\n\t\t\t\t\tduration: 2000\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t\t// App端直接尝试获取位置，系统会自动处理权限请求\r\n\t\t\t\tconst locationResult = await uni.getLocation({\r\n\t\t\t\t\ttype: 'gcj02', // 国测局坐标系\r\n\t\t\t\t\tisHighAccuracy: true,\r\n\t\t\t\t\ttimeout: 10000, // 10秒超时\r\n\t\t\t\t\tgeocode: false // 不需要地理编码\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t\tthis.userLocation = {\r\n\t\t\t\t\tlatitude: locationResult.latitude,\r\n\t\t\t\t\tlongitude: locationResult.longitude,\r\n\t\t\t\t\taccuracy: locationResult.accuracy\r\n\t\t\t\t};\r\n\t\t\t\t\r\n\t\t\t\tthis.locationPermissionGranted = true;\r\n\t\t\t\tconsole.log('用户位置获取成功:', this.userLocation);\r\n\t\t\t\t\r\n\t\t\t\t// 隐藏定位提示\r\n\t\t\t\tuni.hideToast();\r\n\t\t\t\t\r\n\t\t\t\t// 位置获取成功后重新加载KTV列表（按距离排序）\r\n\t\t\t\tthis.getKtvList();\r\n\t\t\t\t\r\n\t\t\t} catch (error) {\r\n\t\t\t\tconsole.log('获取位置失败:', error);\r\n\t\t\t\t\r\n\t\t\t\t// 隐藏定位提示\r\n\t\t\t\tuni.hideToast();\r\n\t\t\t\t\r\n\t\t\t\t// 根据错误类型进行不同处理\r\n\t\t\t\tif (error.errCode === 2 || (error.errMsg && error.errMsg.includes('denied'))) {\r\n\t\t\t\t\t// 用户拒绝了定位权限\r\n\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\ttitle: '定位权限',\r\n\t\t\t\t\t\tcontent: '为了为您推荐附近的KTV，请在系统设置中允许应用获取位置信息',\r\n\t\t\t\t\t\tconfirmText: '去设置',\r\n\t\t\t\t\t\tcancelText: '稍后再说',\r\n\t\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\t\t// App端打开系统设置\r\n\t\t\t\t\t\t\t\tplus && plus.runtime.openURL('app-settings:');\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t// 无论用户选择什么，都加载默认KTV列表\r\n\t\t\t\t\t\t\tthis.getKtvList();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t} else if (error.errCode === 3 || (error.errMsg && error.errMsg.includes('timeout'))) {\r\n\t\t\t\t\t// 定位超时\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '定位超时，显示默认列表',\r\n\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\tduration: 2000\r\n\t\t\t\t\t});\r\n\t\t\t\t\tthis.getKtvList();\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// 其他定位错误\r\n\t\t\t\t\tconsole.log('使用默认位置或不进行距离排序');\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '定位失败，显示默认列表',\r\n\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\tduration: 2000\r\n\t\t\t\t\t});\r\n\t\t\t\t\tthis.getKtvList();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\tasync getKtvList() {\r\n\t\t\ttry {\r\n\t\t\t\tconsole.log('开始获取KTV列表...');\r\n\t\t\t\t\r\n\t\t\t\t// 构建请求参数\r\n\t\t\t\tlet requestData = {};\r\n\t\t\t\t\r\n\t\t\t\t// 如果有用户位置信息，传递给后端用于距离计算\r\n\t\t\t\tif (this.userLocation) {\r\n\t\t\t\t\trequestData.latitude = this.userLocation.latitude;\r\n\t\t\t\t\trequestData.longitude = this.userLocation.longitude;\r\n\t\t\t\t\tconsole.log('使用用户位置信息:', this.userLocation);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconsole.log('没有用户位置信息，将获取默认KTV列表');\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t// 调用真实的KTV列表API\r\n\t\t\t\tconst res = await uni.request({\r\n\t\t\t\t\turl: 'http://catdog.dachaonet.com/get_ktv_list.php',\r\n\t\t\t\t\tmethod: 'GET',\r\n\t\t\t\t\tdata: requestData,\r\n\t\t\t\t\theader: {\r\n\t\t\t\t\t\t'Authorization': 'Bearer ' + uni.getStorageSync('token')\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t\tif (res.data.success) {\r\n\t\t\t\t\tthis.ktvList = res.data.data || [];\r\n\t\t\t\t\tconsole.log('KTV列表获取成功:', this.ktvList);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconsole.error('获取KTV列表失败:', res.data.message);\r\n\t\t\t\t\t// 降级到模拟数据\r\n\t\t\t\t\tthis.ktvList = [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tid: 1,\r\n\t\t\t\t\t\t\tname: '搜索附近的商K',\r\n\t\t\t\t\t\t\tdistance: '500m',\r\n\t\t\t\t\t\t\trating: 4.8,\r\n\t\t\t\t\t\t\taddress: '北京市朝阳区三里屯路123号'\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tid: 2,\r\n\t\t\t\t\t\t\tname: '星光KTV',\r\n\t\t\t\t\t\t\tdistance: '800m',\r\n\t\t\t\t\t\t\trating: 4.6,\r\n\t\t\t\t\t\t\taddress: '北京市海淀区中关村大街456号'\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tid: 3,\r\n\t\t\t\t\t\t\tname: '欢乐颂KTV',\r\n\t\t\t\t\t\t\tdistance: '1.2km',\r\n\t\t\t\t\t\t\trating: 4.9,\r\n\t\t\t\t\t\t\taddress: '北京市西城区西单北大街789号'\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t];\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t} catch (error) {\r\n\t\t\t\tconsole.error('获取KTV列表失败:', error);\r\n\t\t\t\t// 网络错误时使用模拟数据\r\n\t\t\t\tthis.ktvList = [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tid: 1,\r\n\t\t\t\t\t\tname: '搜索附近的商K',\r\n\t\t\t\t\t\tdistance: '500m',\r\n\t\t\t\t\t\trating: 4.8,\r\n\t\t\t\t\t\taddress: '北京市朝阳区三里屯路123号'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tid: 2,\r\n\t\t\t\t\t\tname: '星光KTV',\r\n\t\t\t\t\t\tdistance: '800m',\r\n\t\t\t\t\t\trating: 4.6,\r\n\t\t\t\t\t\taddress: '北京市海淀区中关村大街456号'\r\n\t\t\t\t\t}\r\n\t\t\t\t];\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\tasync getLocation() {\r\n\t\t\treturn new Promise((resolve, reject) => {\r\n\t\t\t\tuni.getLocation({\r\n\t\t\t\t\ttype: 'gcj02',\r\n\t\t\t\t\tsuccess: resolve,\r\n\t\t\t\t\tfail: reject\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t},\r\n\t\t\r\n\t\tsearchKtv() {\r\n\t\t\tuni.showLoading({\r\n\t\t\t\ttitle: '搜索中...'\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\t// 模拟搜索\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tuni.hideLoading();\r\n\t\t\t\tthis.ktvList = [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tid: 1,\r\n\t\t\t\t\t\tname: '搜索附近的商K',\r\n\t\t\t\t\t\tdistance: 500,\r\n\t\t\t\t\t\trating: 4.8,\r\n\t\t\t\t\t\taddress: '北京市朝阳区xxx路xxx号'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tid: 2,\r\n\t\t\t\t\t\tname: '星光KTV',\r\n\t\t\t\t\t\tdistance: 800,\r\n\t\t\t\t\t\trating: 4.6,\r\n\t\t\t\t\t\taddress: '北京市朝阳区xxx路xxx号'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tid: 3,\r\n\t\t\t\t\t\tname: '欢乐颂KTV',\r\n\t\t\t\t\t\tdistance: 1200,\r\n\t\t\t\t\t\trating: 4.9,\r\n\t\t\t\t\t\taddress: '北京市朝阳区xxx路xxx号'\r\n\t\t\t\t\t}\r\n\t\t\t\t];\r\n\t\t\t}, 1500);\r\n\t\t},\r\n\t\t\r\n\t\tbookKtv(item) {\r\n\t\t\tuni.navigateTo({\r\n\t\t\t\turl: `/pages/booking/booking?id=${item.id}&name=${encodeURIComponent(item.name)}`\r\n\t\t\t});\r\n\t\t},\r\n\t\t\r\n\t\tupgradeVip() {\r\n\t\t\tuni.showToast({\r\n\t\t\t\ttitle: '会员功能开发中',\r\n\t\t\t\ticon: 'none'\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.container {\r\n\tmin-height: 100vh;\r\n\tbackground: linear-gradient(135deg, #434343 0%, #2C2C2E 100%);\r\n\tcolor: white;\r\n}\r\n\r\n.status-bar {\r\n\twidth: 100%;\r\n}\r\n\r\n.header {\r\n\tdisplay: flex;\r\n\tjustify-content: space-between;\r\n\talign-items: center;\r\n\tpadding: 40rpx 60rpx;\r\n\tmargin-bottom: 40rpx;\r\n}\r\n\r\n.user-info {\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n}\r\n\r\n.avatar {\r\n\twidth: 120rpx;\r\n\theight: 120rpx;\r\n\tborder-radius: 60rpx;\r\n\tmargin-right: 30rpx;\r\n}\r\n\r\n.user-details {\r\n\tflex: 1;\r\n}\r\n\r\n.username {\r\n\tdisplay: block;\r\n\tfont-size: 36rpx;\r\n\tfont-weight: 500;\r\n\tmargin-bottom: 10rpx;\r\n}\r\n\r\n.vip-info {\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n}\r\n\r\n.vip-icon {\r\n\twidth: 40rpx;\r\n\theight: 20rpx;\r\n\tmargin-right: 15rpx;\r\n}\r\n\r\n.vip-text {\r\n\tfont-size: 28rpx;\r\n\tcolor: #FFD700;\r\n}\r\n\r\n.upgrade-btn {\r\n\tbackground: #7ED321;\r\n\tcolor: #2C2C2E;\r\n\tborder: none;\r\n\tborder-radius: 40rpx;\r\n\tpadding: 20rpx 40rpx;\r\n\tfont-size: 28rpx;\r\n\tfont-weight: 500;\r\n}\r\n\r\n.section-title {\r\n\tpadding: 0 60rpx;\r\n\tmargin-bottom: 40rpx;\r\n}\r\n\r\n.title-text {\r\n\tfont-size: 32rpx;\r\n\tfont-weight: 500;\r\n\tposition: relative;\r\n}\r\n\r\n.title-text::after {\r\n\tcontent: '';\r\n\tposition: absolute;\r\n\tleft: 0;\r\n\tbottom: -10rpx;\r\n\twidth: 60rpx;\r\n\theight: 4rpx;\r\n\tbackground: #7ED321;\r\n}\r\n\r\n.ktv-list {\r\n\tpadding: 0 60rpx;\r\n\tmargin-bottom: 60rpx;\r\n}\r\n\r\n.ktv-item {\r\n\tbackground: rgba(255, 255, 255, 0.1);\r\n\tborder-radius: 20rpx;\r\n\tpadding: 40rpx;\r\n\tmargin-bottom: 30rpx;\r\n\tdisplay: flex;\r\n\tjustify-content: space-between;\r\n\talign-items: center;\r\n}\r\n\r\n.ktv-card {\r\n\tflex: 1;\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n}\r\n\r\n.ktv-tag {\r\n\tposition: relative;\r\n\twidth: 120rpx;\r\n\theight: 160rpx;\r\n\tmargin-right: 30rpx;\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tjustify-content: center;\r\n}\r\n\r\n.tag-bg {\r\n\tposition: absolute;\r\n\twidth: 100%;\r\n\theight: 100%;\r\n\tz-index: 1;\r\n}\r\n\r\n.tag-text {\r\n\tposition: relative;\r\n\tz-index: 2;\r\n\tfont-size: 48rpx;\r\n\tfont-weight: bold;\r\n\tcolor: #2C2C2E;\r\n}\r\n\r\n.ktv-info {\r\n\tflex: 1;\r\n}\r\n\r\n.ktv-name {\r\n\tfont-size: 32rpx;\r\n\tfont-weight: 500;\r\n\tmargin-bottom: 10rpx;\r\n}\r\n\r\n.ktv-details {\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tgap: 20rpx;\r\n\tmargin-bottom: 8rpx;\r\n}\r\n\r\n.ktv-distance {\r\n\tfont-size: 24rpx;\r\n\tcolor: #7ED321;\r\n\tbackground: rgba(126, 211, 33, 0.15);\r\n\tpadding: 4rpx 12rpx;\r\n\tborder-radius: 12rpx;\r\n}\r\n\r\n.ktv-rating {\r\n\tfont-size: 24rpx;\r\n\tcolor: #FFD700;\r\n}\r\n\r\n.ktv-address {\r\n\tfont-size: 24rpx;\r\n\tcolor: #CCCCCC;\r\n\topacity: 0.8;\r\n\tline-height: 1.4;\r\n}\r\n\r\n.book-btn {\r\n\tbackground: #7ED321;\r\n\tcolor: #2C2C2E;\r\n\tborder: none;\r\n\tborder-radius: 50rpx;\r\n\tpadding: 20rpx 60rpx;\r\n\tfont-size: 28rpx;\r\n\tfont-weight: 500;\r\n}\r\n\r\n.empty-state {\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\talign-items: center;\r\n\tjustify-content: center;\r\n\tpadding: 120rpx 60rpx;\r\n}\r\n\r\n.empty-icon {\r\n\twidth: 200rpx;\r\n\theight: 200rpx;\r\n\topacity: 0.3;\r\n\tmargin-bottom: 40rpx;\r\n}\r\n\r\n.empty-text {\r\n\tfont-size: 32rpx;\r\n\tcolor: #999999;\r\n}\r\n\r\n.search-btn {\r\n\tposition: fixed;\r\n\tbottom: 120rpx;\r\n\tleft: 60rpx;\r\n\tright: 60rpx;\r\n\tbackground: #7ED321;\r\n\tborder-radius: 50rpx;\r\n\tpadding: 30rpx;\r\n\ttext-align: center;\r\n}\r\n\r\n.search-text {\r\n\tfont-size: 32rpx;\r\n\tfont-weight: 500;\r\n\tcolor: #2C2C2E;\r\n}\r\n</style>\r\n","import MiniProgramPage from '/Users/yy/Documents/GitHub/ktvapp/ktvapp/pages/index/index.vue'\nwx.createPage(MiniProgramPage)"],"names":["uni"],"mappings":"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"}